<!DOCTYPE html>
<html>
<head>
  <title></title>
</head>
<body>
<canvas id="mycanvas"></canvas>
<script type="text/javascript">
  var canvas = document.getElementById('mycanvas')
  var ctx = canvas.getContext("2d")
  ctx.fillStyle='red'
  ctx.fillRect(10,10,50,50)
  copy()
  function copy(){
    var imgData=ctx.getImageData(10,10,50,50);
    ctx.putImageData(imgData,10,70);
  }

  var img = new Image()
  img.onload = function(){
    ctx.drawImage(img,0,0)
    var imgData = ctx.getImageData(0,0,canvas.width,canvas.height)
    fanse(imgData)
  }
  img.src="./img/1.jpg"

  function fanse(imgData){
    for(var i=0;i<imgData.data.length;i+=4){
      imgData.data[i]=255-imgData.data[i];
      imgData.data[i+1]=255-imgData.data[i+1];
      imgData.data[i+2]=255-imgData.data[i+2];
      imgData.data[i+3]=255;
    }
    ctx.putImageData(imgData,0,0)
  }

</script>
</body>
</html>